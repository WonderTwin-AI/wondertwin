# wondertwin.yaml — WonderTwin project manifest
#
# Declares which twins to run locally, their ports, and configuration.
# The `wt` CLI reads this file to manage twin lifecycle.
#
# Twins can be configured in three ways:
#
# 1. Version-based (recommended): Set `version` and run `wt install` to
#    download pre-compiled binaries from the WonderTwin registry.
#
# 2. SDK-based: Set `version` to "sdk:<package>" to pin to a specific SDK
#    package version (e.g., "sdk:github.com/stripe/stripe-go/v76").
#
# 3. Binary path: Set `binary` to a local path for custom or pre-built twins.
#    Supports absolute paths, ~ paths, and relative paths (resolved against
#    this file's directory).
#
# Quick start with registry twins:
#   1. Copy this file to wondertwin.yaml
#   2. wt install
#   3. wt up

twins:
  stripe:
    binary: ./bin/twin-stripe
    port: 4111
  twilio:
    binary: ./bin/twin-twilio
    port: 4112
  resend:
    binary: ./bin/twin-resend
    port: 4113
  posthog:
    binary: ./bin/twin-posthog
    port: 4114
  clerk:
    binary: ./bin/twin-clerk
    port: 4115
  logodev:
    binary: ./bin/twin-logodev
    port: 4116

  # --- Alternative configurations ---

  # Version-based twin — downloaded from registry via `wt install`
  # stripe:
  #   version: "latest"     # or "0.4.0" or "sdk:github.com/stripe/stripe-go/v76"
  #   port: 4111
  #   seed: ./fixtures/seed.json
  #   env:
  #     STRIPE_WEBHOOK_SECRET: "whsec_sim_test_secret"

  # Registry twin from a specific registry (Phase 2: multi-registry support)
  # internal-api:
  #   version: "latest"
  #   registry: mycompany      # looks up this registry in ~/.wondertwin/config.yaml
  #   port: 9020

settings:
  binary_dir: ~/.wondertwin/bin   # where `wt install` saves binaries
  log_dir: .wt/logs
  verbose: true
